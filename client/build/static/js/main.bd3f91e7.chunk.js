(this["webpackJsonpcampfire-frontend"]=this["webpackJsonpcampfire-frontend"]||[]).push([[0],{46:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(27),r=n.n(s),o=(n(55),n(11)),i=n(8),u=(n(56),n(4)),l=n(3),A=n.n(l),d=n(9),j=n(7),p=n.n(j),b={apiUrl:"http://localhost:8000",apiConfig:{headers:{"Content-Type":"application/json"}}},g=n(97),h="SET_ALERT",O="REMOVE_ALERT",m="REGISTER_SUCCESS",B="REGISTER_FAIL",f="LOGIN_SUCCESS",x="LOGIN_FAIL",C="LOGOUT",E="GET_USER_SUCCESS",w="GET_USER_FAIL",Q="GET_POSTS",v="GET_POST",I="POST_ERROR",k="UPDATE_LIKES",y="DELETE_POST",F="ADD_POST",D="DELETE_COMMENT",S="ADD_COMMENT",R="GET_BOOKS",N="GET_BOOK",G="BOOK_ERROR",Y="ADD_BOOK",U="DELETE_BOOK",M="ADD_NOTE",J="DELETE_NOTE",K=function(e,t){return function(n){var a=Object(g.a)();n({type:h,payload:{msg:e,alertType:t,id:a}}),setTimeout((function(){return n({type:O,payload:a})}),3e3)}},H=function(e){e?p.a.defaults.headers.common["x-auth-token"]=e:delete p.a.defaults.headers.common["x-auth-token"]},L=function(){return function(){var e=Object(d.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&H(localStorage.token),e.prev=1,e.next=4,p.a.get("".concat(b.apiUrl,"/auth"));case 4:n=e.sent,t({type:E,payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:w});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},T=function(e){var t=e.email,n=e.password;return function(){var e=Object(d.a)(A.a.mark((function e(a){var c,s,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=JSON.stringify({email:t,password:n}),e.next=4,p.a.post("".concat(b.apiUrl,"/auth"),c,b.apiConfig);case 4:s=e.sent,a({type:f,payload:s.data}),a(L()),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),(r=e.t0.response.data.errors)&&r.forEach((function(e){return a(K(e.msg,"danger"))})),a({type:x});case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},W=n(1),Z=Object(u.b)((function(e){return{auth:e.auth}}),{logout:function(){return function(){var e=Object(d.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:C});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.logout,n=e.auth,c=n.isAuthenticated,s=n.loading,r=Object(W.jsxs)("ul",{children:[Object(W.jsx)("li",{className:"menu-link",children:Object(W.jsx)(o.b,{to:"/dashboard",children:"dashboard"})}),Object(W.jsx)("li",{className:"menu-link",children:Object(W.jsx)(o.b,{to:"/community",className:"underline",children:"community"})}),Object(W.jsx)("li",{className:"menu-link",children:Object(W.jsx)("a",{href:"",onClick:t,children:"logout"})})]}),i=Object(W.jsxs)("ul",{children:[Object(W.jsx)("li",{className:"menu-link",children:Object(W.jsx)(o.b,{to:"/community",children:"community"})}),Object(W.jsx)("li",{className:"menu-link",children:Object(W.jsx)(o.b,{to:"/register",className:"underline",children:"sign up"})}),Object(W.jsx)("li",{className:"menu-link",children:Object(W.jsx)(o.b,{to:"/login",children:"sign in"})})]});return Object(W.jsxs)("nav",{className:"navbar bg-green",children:[Object(W.jsx)("h1",{children:Object(W.jsx)(o.b,{to:"/",children:"book nuggets"})}),!s&&Object(W.jsx)(a.Fragment,{children:c?r:i})]})})),q=(n(80),Object(u.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{login:T})((function(e){var t=e.isAuthenticated,n=e.login;if(t)return Object(W.jsx)(i.a,{to:"/dashboard"});return Object(W.jsx)("section",{className:"home",children:Object(W.jsx)("div",{className:"home-overlay",children:Object(W.jsxs)("div",{className:"home-inner",children:[Object(W.jsx)("h1",{className:"home-inner-title",children:"book nuggets"}),Object(W.jsx)("p",{className:"home-inner-description",children:"document and share your reading journey"}),Object(W.jsxs)("span",{children:[Object(W.jsx)(o.b,{to:"/register",className:"btn btn-green",children:"get started"}),Object(W.jsx)("small",{className:"demo-login btn",onClick:function(){console.log("hello"),n({email:"demousernugget@gmail.com",password:"booknugget"})},children:"demo login"})]})]})})})}))),V=Object(u.b)((function(e){return{alerts:e.alert}}))((function(e){var t=e.alerts;return null!==t&&t.length>0&&t.map((function(e){return Object(W.jsx)("div",{className:"alert alert-".concat(e.alertType),children:e.msg},e.id)}))})),X=n(19),P=n(2),z=n(10),_=(n(46),Object(u.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{register:function(e){var t=e.name,n=e.email,a=e.password;return function(){var e=Object(d.a)(A.a.mark((function e(c){var s,r,o;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=JSON.stringify({name:t,email:n,password:a}),e.next=4,p.a.post("".concat(b.apiUrl,"/users"),s,b.apiConfig);case 4:r=e.sent,c({type:m,payload:r.data}),c(L()),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),(o=e.t0.response.data.errors)&&o.forEach((function(e){return c(K(e.msg,"danger"))})),c({type:B});case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.register,n=e.isAuthenticated,c=Object(a.useState)({name:"",email:"",password:""}),s=Object(z.a)(c,2),r=s[0],o=s[1],u=r.name,l=r.email,A=r.password,d=function(e){o(Object(P.a)(Object(P.a)({},r),{},Object(X.a)({},e.target.name,e.target.value)))};return n?Object(W.jsx)(i.a,{to:"/dashboard"}):Object(W.jsx)(a.Fragment,{children:Object(W.jsxs)("form",{className:"form",onSubmit:function(e){return function(e){e.preventDefault(),t({name:u,email:l,password:A})}(e)},children:[Object(W.jsx)("h2",{children:"sign up"}),Object(W.jsx)("div",{className:"form-group",children:Object(W.jsx)("input",{type:"text",placeholder:"full name",name:"name",value:u,onChange:function(e){return d(e)},required:!0})}),Object(W.jsx)("div",{className:"form-group",children:Object(W.jsx)("input",{type:"email",placeholder:"email",name:"email",value:l,onChange:function(e){return d(e)},required:!0})}),Object(W.jsx)("div",{className:"form-group",children:Object(W.jsx)("input",{type:"password",placeholder:"password",minLength:"6",name:"password",value:A,onChange:function(e){return d(e)},required:!0})}),Object(W.jsx)("input",{type:"submit",className:"btn",value:"create"})]})})}))),$=Object(u.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{login:T})((function(e){var t=e.login,n=e.isAuthenticated,c=Object(a.useState)({email:"",password:""}),s=Object(z.a)(c,2),r=s[0],o=s[1],u=r.email,l=r.password,A=function(e){o(Object(P.a)(Object(P.a)({},r),{},Object(X.a)({},e.target.name,e.target.value)))};return n?Object(W.jsx)(i.a,{to:"/dashboard"}):Object(W.jsx)(a.Fragment,{children:Object(W.jsxs)("form",{className:"form",onSubmit:function(e){return function(e){e.preventDefault(),t({email:u,password:l})}(e)},children:[Object(W.jsx)("h2",{children:"welcome back"}),Object(W.jsx)("div",{className:"form-group",children:Object(W.jsx)("input",{type:"email",placeholder:"email",name:"email",value:u,onChange:function(e){return A(e)},required:!0})}),Object(W.jsx)("div",{className:"form-group",children:Object(W.jsx)("input",{type:"password",placeholder:"password",minLength:"6",name:"password",value:l,onChange:function(e){return A(e)},required:!0})}),Object(W.jsx)("input",{type:"submit",className:"btn",value:"log in"})]})})})),ee=(n(81),n(96)),te=(n(82),Object(u.b)(null,{addBook:function(e){return function(){var t=Object(d.a)(A.a.mark((function t(n){var a,c;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.post("".concat(b.apiUrl,"/books"),e,b.apiConfig);case 3:a=t.sent,n({type:Y,payload:a.data}),t.next=12;break;case 7:t.prev=7,t.t0=t.catch(0),(c=t.t0.response.data.errors)&&c.forEach((function(e){return n(K(e.msg,"danger"))})),n({type:G,payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 12:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.onCancel,n=e.onCreate,c=e.addBook,s=Object(a.useState)(""),r=Object(z.a)(s,2),o=r[0],i=r[1];return Object(W.jsx)(ee.a.div,{animate:{opacity:[0,1]},transition:{duration:.5},children:Object(W.jsxs)("form",{className:"book-form modal-center",onSubmit:function(e){return function(e){e.preventDefault(),c({title:o}),n(),i("")}(e)},children:[Object(W.jsx)("label",{children:"what book are you reading?"}),Object(W.jsx)("div",{className:"form-group",children:Object(W.jsx)("input",{type:"text",onChange:function(e){return i(e.target.value)},placeholder:"book title",required:!0})}),Object(W.jsx)("input",{type:"submit",value:"add",className:"book-btn btn-success"}),Object(W.jsx)("button",{type:"button",onClick:t,className:"book-btn btn-danger",children:"cancel"})]})})}))),ne=function(e){var t=e.book,n=t._id,a=t.title,c=t.notes;return Object(W.jsx)(o.b,{to:"/book/".concat(n),children:Object(W.jsxs)("div",{className:"card card-title",children:[Object(W.jsx)("h4",{children:a}),Object(W.jsxs)("p",{children:[c.length," nuggets"]})]})})},ae=function(){return Object(W.jsx)(a.Fragment,{children:Object(W.jsx)("img",{src:"data:image/gif;base64,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",style:{width:"200px",margin:"auto",display:"block"},alt:"loading..."})})},ce=Object(u.b)((function(e){return{book:e.book}}),{getBooks:function(){return function(){var e=Object(d.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("".concat(b.apiUrl,"/books"));case 3:n=e.sent,t({type:R,payload:n.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:G,payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.book,n=e.getBooks,c=t.books,s=t.loading,r=Object(a.useState)(!1),o=Object(z.a)(r,2),i=o[0],u=o[1];Object(a.useEffect)((function(){n()}),[n]);return s?Object(W.jsx)(ae,{}):Object(W.jsxs)(a.Fragment,{children:[Object(W.jsxs)("div",{className:i?"cards blur":"cards",children:[Object(W.jsx)("div",{className:"card card-add",onClick:function(){return u(!0)},children:Object(W.jsx)("span",{className:"book-add-icon",children:"+"})}),c.map((function(e){return Object(W.jsx)(ne,{book:e},e._id)}))]}),i&&Object(W.jsx)(te,{onCancel:function(){return u(!1)},onCreate:function(){u(!1),n()}})]})})),se=Object(u.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.auth.user;return Object(W.jsxs)(a.Fragment,{children:[Object(W.jsxs)("h1",{className:"title left-align",children:["Hi, ",t&&t.name]}),Object(W.jsx)(ce,{})]})})),re=n(50),oe=["component","auth"],ie=Object(u.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,n=e.auth,a=Object(re.a)(e,oe);return Object(W.jsx)(i.b,Object(P.a)(Object(P.a)({},a),{},{render:function(e){return n.isAuthenticated||n.loading?Object(W.jsx)(t,Object(P.a)({},e)):Object(W.jsx)(i.a,{to:"/login"})}}))})),ue=(n(83),n(34)),le=n(47),Ae=n(35),de=n(20),je=n.n(de),pe=Object(u.b)((function(e){return{auth:e.auth}}),{addLike:function(e){return function(){var t=Object(d.a)(A.a.mark((function t(n){var a;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.put("".concat(b.apiUrl,"/posts/like/").concat(e));case 3:a=t.sent,n({type:k,payload:a.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n({type:I,payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},removeLike:function(e){return function(){var t=Object(d.a)(A.a.mark((function t(n){var a;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.put("".concat(b.apiUrl,"/posts/unlike/").concat(e));case 3:a=t.sent,n({type:k,payload:a.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n({type:I,payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.addLike,n=e.removeLike,a=e.post,c=e.auth,s=(e.showActions,a._id),r=a.text,i=a.name,u=a.avatar,l=a.likes,A=a.comments,d=a.date,j=function(){return l.filter((function(e){return e.user===c.user._id})).length>0};return Object(W.jsxs)("div",{className:"post",children:[Object(W.jsxs)("div",{className:"post-info",children:[Object(W.jsx)("div",{children:Object(W.jsx)("img",{className:"post-img",src:u,alt:""})}),Object(W.jsxs)("div",{children:[Object(W.jsx)("p",{className:"post-user",children:i}),Object(W.jsxs)("p",{className:"post-date",children:["Posted on ",Object(W.jsx)(je.a,{format:"YYYY/MM/DD",children:d})]})]})]}),Object(W.jsxs)("div",{children:[Object(W.jsx)("p",{children:r}),Object(W.jsxs)("button",{className:"post-actions",onClick:function(e){j()?n(s):t(s)},children:[Object(W.jsx)(ue.a,{icon:j()?le.a:Ae.b,className:"post-icon"})," ",Object(W.jsx)("span",{children:l.length})]}),Object(W.jsxs)(o.b,{to:"/community/".concat(s),className:"post-actions comment",children:[Object(W.jsx)(ue.a,{icon:Ae.a,className:"post-icon"})," ",Object(W.jsx)("span",{children:A.length})]})]})]})})),be=(n(88),Object(u.b)(null,{addPost:function(e){return function(){var t=Object(d.a)(A.a.mark((function t(n){var a;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.post("".concat(b.apiUrl,"/posts"),e,b.apiConfig);case 3:a=t.sent,n({type:F,payload:a.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n({type:I,payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.addPost,n=Object(a.useState)(""),c=Object(z.a)(n,2),s=c[0],r=c[1];return Object(W.jsx)("div",{className:"post",children:Object(W.jsxs)("form",{className:"post-form",onSubmit:function(e){return function(e){e.preventDefault(),t({text:s}),r("")}(e)},children:[Object(W.jsx)("textarea",{cols:"79",rows:"4",placeholder:"what's on your mind?",name:"text",value:s,onChange:function(e){return r(e.target.value)},required:!0}),Object(W.jsx)("button",{type:"submit",className:"post-button",children:"share"})]})})}))),ge=Object(u.b)((function(e){return{post:e.post}}),{getPosts:function(){return function(){var e=Object(d.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("".concat(b.apiUrl,"/posts"));case 3:n=e.sent,t({type:Q,payload:n.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:I,payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.getPosts,n=e.post,c=n.posts,s=n.loading;return Object(a.useEffect)((function(){t()}),[t]),s?Object(W.jsx)(ae,{}):Object(W.jsxs)(a.Fragment,{children:[Object(W.jsx)(be,{}),c.map((function(e){return Object(W.jsx)(pe,{post:e},e._id)}))]})})),he=function(e){var t=e.comment,n=(t._id,t.text),a=t.name,c=t.avatar,s=(t.user,t.date);return Object(W.jsxs)("div",{className:"post",children:[Object(W.jsxs)("div",{className:"post-info",children:[Object(W.jsx)("div",{children:Object(W.jsx)("img",{className:"post-img",src:c,alt:""})}),Object(W.jsxs)("div",{children:[Object(W.jsx)("p",{className:"post-user",children:a}),Object(W.jsxs)("p",{className:"post-date",children:["Posted on ",Object(W.jsx)(je.a,{format:"YYYY/MM/DD",children:s})]})]})]}),Object(W.jsx)("div",{children:Object(W.jsx)("p",{children:n})})]})},Oe=Object(u.b)(null,{addComment:function(e,t){return function(){var n=Object(d.a)(A.a.mark((function n(a){var c;return A.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,p.a.post("".concat(b.apiUrl,"/posts/comment/").concat(e),t,b.apiConfig);case 3:c=n.sent,a({type:S,payload:c.data}),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0.response),a({type:I,payload:{msg:n.t0.response.statusText,status:n.t0.response.status}});case 11:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=e.postId,n=e.addComment,c=Object(a.useState)(""),s=Object(z.a)(c,2),r=s[0],o=s[1];return Object(W.jsx)("div",{className:"post",children:Object(W.jsxs)("form",{className:"post-form",onSubmit:function(e){return function(e){e.preventDefault(),n(t,{text:r}),o("")}(e)},children:[Object(W.jsx)("textarea",{cols:"79",rows:"2",placeholder:"write a comment...",name:"text",value:r,onChange:function(e){return o(e.target.value)},required:!0}),Object(W.jsx)("button",{type:"submit",className:"post-button",children:"comment"})]})})})),me=Object(u.b)((function(e){return{post:e.post}}),{getPost:function(e){return function(){var t=Object(d.a)(A.a.mark((function t(n){var a;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.get("".concat(b.apiUrl,"/posts/").concat(e));case 3:a=t.sent,n({type:v,payload:a.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n({type:I,payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.getPost,n=e.post,c=n.post,s=n.loading,r=e.match;return Object(a.useEffect)((function(){t(r.params.post_id)}),[t]),s||null===c?Object(W.jsx)(ae,{}):Object(W.jsxs)(a.Fragment,{children:[Object(W.jsx)(pe,{post:c,showActions:!1}),Object(W.jsx)(Oe,{postId:c._id}),Object(W.jsx)("div",{className:"comments",children:c.comments.map((function(e){return Object(W.jsx)(he,{comment:e,postId:c._id},e._id)}))})]})})),Be=(n(89),n(90),function(e){var t=e.note;e.bookId;return Object(W.jsxs)("div",{id:t.type,className:"note",children:[Object(W.jsx)("p",{className:"note-date",children:Object(W.jsx)(je.a,{format:"YYYY/MM/DD",children:t.date})}),Object(W.jsx)("p",{className:"note-text",children:t.text}),Object(W.jsx)("p",{id:t.type,className:"note-type",children:t.type})]})}),fe=(n(91),n(92),Object(u.b)(null,{addNote:function(e,t){return function(){var n=Object(d.a)(A.a.mark((function n(a){var c,s;return A.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,p.a.post("".concat(b.apiUrl,"/books/notes/").concat(e),t,b.apiConfig);case 3:c=n.sent,a({type:M,payload:c.data}),n.next=12;break;case 7:n.prev=7,n.t0=n.catch(0),(s=n.t0.response.data.errors)&&s.forEach((function(e){return a(K(e.msg,"danger"))})),a({type:G,payload:{msg:n.t0.response.statusText,status:n.t0.response.status}});case 12:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=e.onCancel,n=e.onCreate,c=e.addNote,s=e.bookId,r=Object(a.useState)(""),o=Object(z.a)(r,2),i=o[0],u=o[1],l=Object(a.useState)(""),A=Object(z.a)(l,2),d=A[0],j=A[1],p=Object(a.useState)(0),b=Object(z.a)(p,2),g=b[0],h=b[1];return Object(W.jsx)(ee.a.div,{animate:{opacity:[0,1]},transition:{duration:.5},children:Object(W.jsx)("div",{className:"post modal-center",children:Object(W.jsxs)("form",{className:"post-form",onSubmit:function(e){return function(e){e.preventDefault(),c(s,{type:i,text:d}),n(),j(""),u("")}(e)},children:[Object(W.jsx)("textarea",{cols:"79",rows:"4",placeholder:"start typing your nugget here...",name:"text",value:d,onChange:function(e){return function(e){j(e.target.value),h(e.target.value.length)}(e)},maxLength:"300",required:!0}),Object(W.jsxs)("p",{className:"character-count",children:[g,"/300 "]}),Object(W.jsx)("p",{className:"type-text",children:"select the type of your nugget..."}),Object(W.jsxs)("div",{className:"radio-options",children:[Object(W.jsxs)("div",{className:"radio",children:[Object(W.jsx)("input",{id:"radio-1",name:"radio",type:"radio",value:"insight",onChange:function(e){return u(e.target.value)},required:!0}),Object(W.jsx)("label",{htmlFor:"radio-1",className:"radio-label",children:"insight"})]}),Object(W.jsxs)("div",{className:"radio",children:[Object(W.jsx)("input",{id:"radio-2",name:"radio",type:"radio",value:"quote",onChange:function(e){return u(e.target.value)}}),Object(W.jsx)("label",{htmlFor:"radio-2",className:"radio-label",children:"quote"})]}),Object(W.jsxs)("div",{className:"radio",children:[Object(W.jsx)("input",{id:"radio-3",name:"radio",type:"radio",value:"question",onChange:function(e){return u(e.target.value)}}),Object(W.jsx)("label",{htmlFor:"radio-3",className:"radio-label",children:"question"})]})]}),Object(W.jsxs)("div",{className:"book-form",children:[Object(W.jsx)("input",{type:"submit",value:"add",className:"book-btn btn-success"}),Object(W.jsx)("button",{type:"button",onClick:t,className:"book-btn btn-danger",children:"cancel"})]})]})})})}))),xe=Object(u.b)((function(e){return{book:e.book}}),{getBook:function(e){return function(){var t=Object(d.a)(A.a.mark((function t(n){var a;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.get("".concat(b.apiUrl,"/books/").concat(e));case 3:a=t.sent,n({type:N,payload:a.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n({type:G,payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.getBook,n=e.book,c=n.book,s=n.loading,r=e.match,o=Object(a.useState)(!1),i=Object(z.a)(o,2),u=i[0],l=i[1];Object(a.useEffect)((function(){t(r.params.book_id)}),[t]);return s||null===c?Object(W.jsx)(ae,{}):Object(W.jsxs)(a.Fragment,{children:[Object(W.jsxs)("div",{className:u?"notes blur":"notes",children:[Object(W.jsx)("h1",{className:"title",children:c.title}),Object(W.jsx)("div",{className:"note-add",onClick:function(){return l(!0)},children:Object(W.jsx)("span",{className:"note-add-icon",children:"+"})}),c.notes.map((function(e){return Object(W.jsx)(Be,{note:e,bookId:c._id},e._id)}))]}),u&&Object(W.jsx)(fe,{onCancel:function(){return l(!1)},onCreate:function(){l(!1),t(r.params.book_id)},bookId:c._id})]})})),Ce=n(22),Ee=n(48),we=n(49),Qe=n(21),ve=[];var Ie={token:localStorage.getItem("token"),isAuthenticated:null,loading:null,user:null};var ke={posts:[],post:null,loading:!0,error:{}};var ye={books:[],book:null,loading:!0,error:{}};var Fe=Object(Ce.combineReducers)({alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case h:return[].concat(Object(Qe.a)(e),[a]);case O:return e.filter((function(e){return e.id!==a}));default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case E:return Object(P.a)(Object(P.a)({},e),{},{isAuthenticated:!0,loading:!1,user:a});case m:case f:return localStorage.setItem("token",a.token),Object(P.a)(Object(P.a)({},e),{},{token:a.token,isAuthenticated:!0,loading:!1});case B:case x:case w:case C:return localStorage.removeItem("token"),Object(P.a)(Object(P.a)({},e),{},{token:null,isAuthenticated:!1,loading:!1});default:return e}},post:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case Q:return Object(P.a)(Object(P.a)({},e),{},{posts:a,loading:!1});case v:return Object(P.a)(Object(P.a)({},e),{},{post:a,loading:!1});case y:return Object(P.a)(Object(P.a)({},e),{},{posts:e.posts.filter((function(e){return e._id!==a})),loading:!1});case F:return Object(P.a)(Object(P.a)({},e),{},{posts:[a].concat(Object(Qe.a)(e.posts)),loading:!1});case k:return Object(P.a)(Object(P.a)({},e),{},{posts:e.posts.map((function(e){return e._id===a._id?Object(P.a)(Object(P.a)({},e),{},{likes:a.likes}):e})),loading:!1});case S:return Object(P.a)(Object(P.a)({},e),{},{post:Object(P.a)(Object(P.a)({},e.post),{},{comments:a}),loading:!1});case D:return Object(P.a)(Object(P.a)({},e),{},{post:Object(P.a)(Object(P.a)({},e.post),{},{comments:e.post.comments.filter((function(e){return e._id!==a}))}),loading:!1});case I:return Object(P.a)(Object(P.a)({},e),{},{loading:!1,error:a});default:return e}},book:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case R:return Object(P.a)(Object(P.a)({},e),{},{books:a,loading:!1});case N:return Object(P.a)(Object(P.a)({},e),{},{book:a,loading:!1});case Y:return Object(P.a)(Object(P.a)({},e),{},{books:[a].concat(Object(Qe.a)(e.books)),loading:!1});case U:return Object(P.a)(Object(P.a)({},e),{},{books:e.books.filter((function(e){return e._id!==a})),loading:!1});case M:return Object(P.a)(Object(P.a)({},e),{},{book:Object(P.a)(Object(P.a)({},e.book),{},{notes:a}),loading:!1});case J:return Object(P.a)(Object(P.a)({},e),{},{book:Object(P.a)(Object(P.a)({},e.book),{},{notes:e.book.notes.filter((function(e){return e._id!==a}))}),loading:!1});case G:return Object(P.a)(Object(P.a)({},e),{},{loading:!1,error:a});default:return e}}}),De=[we.a],Se=Object(Ce.createStore)(Fe,{},Object(Ee.composeWithDevTools)(Ce.applyMiddleware.apply(void 0,De)));localStorage.token&&H(localStorage.token);var Re=function(){return Object(a.useEffect)((function(){Se.dispatch(L())}),[]),Object(W.jsx)(u.a,{store:Se,children:Object(W.jsxs)(o.a,{children:[Object(W.jsx)(Z,{}),Object(W.jsx)(i.b,{exact:!0,path:"/",component:q}),Object(W.jsxs)("section",{className:"container",children:[Object(W.jsx)(V,{}),Object(W.jsxs)(i.d,{children:[Object(W.jsx)(i.b,{exact:!0,path:"/register",component:_}),Object(W.jsx)(i.b,{exact:!0,path:"/login",component:$}),Object(W.jsx)(ie,{exact:!0,path:"/dashboard",component:se}),Object(W.jsx)(ie,{exact:!0,path:"/community",component:ge}),Object(W.jsx)(ie,{exact:!0,path:"/community/:post_id",component:me}),Object(W.jsx)(ie,{exact:!0,path:"/book/:book_id",component:xe}),Object(W.jsx)(ie,{exact:!0,path:"/book/:book_id/:note_id",component:Be})]})]})]})})};r.a.render(Object(W.jsx)(c.a.StrictMode,{children:Object(W.jsx)(Re,{})}),document.getElementById("root"))}},[[93,1,2]]]);
//# sourceMappingURL=main.bd3f91e7.chunk.js.map