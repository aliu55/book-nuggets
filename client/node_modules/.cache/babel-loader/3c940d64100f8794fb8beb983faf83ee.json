{"ast":null,"code":"import React,{Fragment,useEffect}from'react';// components\nimport Spinner from'../layout/Spinner';import PostItem from'../posts/PostItem';// redux\nimport{connect}from'react-redux';import{getPost}from'../../actions/post';import CommentItem from'./CommentItem';import CommentForm from'./CommentForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Post=function Post(_ref){var getPost=_ref.getPost,_ref$post=_ref.post,post=_ref$post.post,loading=_ref$post.loading,match=_ref.match;useEffect(function(){getPost(match.params.post_id);},[getPost]);return loading||post===null?/*#__PURE__*/_jsx(Spinner,{}):/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(PostItem,{post:post,showActions:false}),/*#__PURE__*/_jsx(CommentForm,{postId:post._id}),/*#__PURE__*/_jsx(\"div\",{className:\"comments\",children:post.comments.map(function(comment){return/*#__PURE__*/_jsx(CommentItem,{comment:comment,postId:post._id},comment._id);})})]});};var mapStateToProps=function mapStateToProps(state){return{post:state.post};};export default connect(mapStateToProps,{getPost:getPost})(Post);","map":{"version":3,"sources":["/Users/asl/PROJECTS/simply-vegan/simply-vegan-frontend/src/components/post/Post.js"],"names":["React","Fragment","useEffect","Spinner","PostItem","connect","getPost","CommentItem","CommentForm","Post","post","loading","match","params","post_id","_id","comments","map","comment","mapStateToProps","state"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CAGA;AACA,MAAOC,CAAAA,OAAP,KAAoB,mBAApB,CACA,MAAOC,CAAAA,QAAP,KAAqB,mBAArB,CAEA;AACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,OAAT,KAAwB,oBAAxB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,C,wFAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,MAAiD,IAA9CH,CAAAA,OAA8C,MAA9CA,OAA8C,gBAArCI,IAAqC,CAA7BA,IAA6B,WAA7BA,IAA6B,CAAvBC,OAAuB,WAAvBA,OAAuB,CAAZC,KAAY,MAAZA,KAAY,CAE1DV,SAAS,CAAC,UAAM,CACZI,OAAO,CAACM,KAAK,CAACC,MAAN,CAAaC,OAAd,CAAP,CACH,CAFQ,CAEN,CAACR,OAAD,CAFM,CAAT,CAIA,MACIK,CAAAA,OAAO,EAAID,IAAI,GAAK,IAApB,cAA2B,KAAC,OAAD,IAA3B,cACA,MAAC,QAAD,yBACQ,KAAC,QAAD,EAAU,IAAI,CAAEA,IAAhB,CAAsB,WAAW,CAAE,KAAnC,EADR,cAEQ,KAAC,WAAD,EAAa,MAAM,CAAEA,IAAI,CAACK,GAA1B,EAFR,cAGQ,YAAK,SAAS,CAAC,UAAf,UACKL,IAAI,CAACM,QAAL,CAAcC,GAAd,CAAkB,SAAAC,OAAO,qBAAI,KAAC,WAAD,EAA+B,OAAO,CAAEA,OAAxC,CAAiD,MAAM,CAAER,IAAI,CAACK,GAA9D,EAAkBG,OAAO,CAACH,GAA1B,CAAJ,EAAzB,CADL,EAHR,GAFJ,CAUH,CAhBD,CAuBA,GAAMI,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,KAAK,QAAK,CAC9BV,IAAI,CAAEU,KAAK,CAACV,IADkB,CAAL,EAA7B,CAIA,cAAeL,CAAAA,OAAO,CAACc,eAAD,CAAkB,CAAEb,OAAO,CAAPA,OAAF,CAAlB,CAAP,CAAsCG,IAAtC,CAAf","sourcesContent":["import React, { Fragment, useEffect } from 'react'\nimport PropTypes from 'prop-types'\n\n// components\nimport Spinner from '../layout/Spinner'\nimport PostItem from '../posts/PostItem'\n\n// redux\nimport { connect } from 'react-redux'\nimport { getPost } from '../../actions/post'\nimport CommentItem from './CommentItem'\nimport CommentForm from './CommentForm'\n\nconst Post = ({ getPost, post: { post, loading }, match }) => {\n\n    useEffect(() => {\n        getPost(match.params.post_id)\n    }, [getPost])\n\n    return (\n        loading || post === null ? <Spinner /> : \n        <Fragment>\n                <PostItem post={post} showActions={false}/>\n                <CommentForm postId={post._id}/>\n                <div className=\"comments\">\n                    {post.comments.map(comment => <CommentItem key={comment._id} comment={comment} postId={post._id}/>)}\n                </div>\n        </Fragment>\n    )\n}\n\nPost.propTypes = {\n    getPost: PropTypes.func.isRequired,\n    post: PropTypes.object.isRequired,\n}\n\nconst mapStateToProps = state => ({\n    post: state.post,\n})\n\nexport default connect(mapStateToProps, { getPost })(Post)\n"]},"metadata":{},"sourceType":"module"}